package lift;

public class Person extends Thread {
	private int currentFloor;
	private int targetFloor;
	private Monitor monitor;

	public Person(Monitor monitor) {
		this.monitor = monitor;
		currentFloor = (int) (Math.random() * 7);
		targetFloor = nextFloor();
	}

	public void run() {
		monitor.enterFloor(currentFloor);
		while (true) {
			monitor.liftAction(targetFloor, currentFloor);
		}
	}

	private int nextFloor() {
		int n = (int) (Math.random() * 7);
		while (n == currentFloor) {
			n = (int) (Math.random() * 7);
		}
		return n;
	}
}
